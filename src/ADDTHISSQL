USE mazdadb;

-- 1. Vehicle Table
CREATE TABLE Vehicle (
    VIN VARCHAR(50) PRIMARY KEY,
    Make VARCHAR(50),
    Model VARCHAR(50),
    Year INT,
    Price DECIMAL(10, 2),
    Status VARCHAR(20) DEFAULT 'Available' -- Status tracks if it is Sold
);

-- 2. Sales Transaction Table
CREATE TABLE Sale (
    Sale_ID INT AUTO_INCREMENT PRIMARY KEY,
    VIN VARCHAR(50),
    License_ID VARCHAR(50), -- Links to Customer
    Sale_Date DATE,
    Final_Price DECIMAL(10, 2),
    FOREIGN KEY (VIN) REFERENCES Vehicle(VIN),
    FOREIGN KEY (License_ID) REFERENCES Customer(License_ID)
);

-- 3. Parts Table
CREATE TABLE Part (
    Part_ID INT PRIMARY KEY,
    Part_Name VARCHAR(100),
    Quantity INT,
    Unit_Price DECIMAL(10, 2)
);

-- 4. Service Request Table
CREATE TABLE ServiceRequest (
    Request_ID INT AUTO_INCREMENT PRIMARY KEY,
    VIN VARCHAR(50),
    License_ID VARCHAR(50),
    Description VARCHAR(255),
    Status VARCHAR(20), -- e.g., 'Pending', 'Complete'
    Cost DECIMAL(10,2),
    FOREIGN KEY (VIN) REFERENCES Vehicle(VIN)
);

